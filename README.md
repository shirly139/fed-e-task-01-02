# 模块1 作业

## 1. 描述引用计数的工作原理和优缺点
原理：在每个对象中保存该对象的引用计数，当引用发生增减时，对引用计数进行跟新，然后释放引用计数为0的对象控件<br>
优点：实现容易；普遍性；当对象不再被引用的瞬间就会被立即释放，由于释放操作是对象级别的，所以由此而产生的中断时间是比较短的<br>
缺点：无法释放循环引用对象，造成内存泄露；如果在对象增减时对引用计数的算法出现了错误，就会导致内存错误，并且很难找到原因；如果编译器本身管理引用计数还好，如果是手动管理的话，会出现不可预测的bug；不适合并行处理，为了在多线程环境下避免多个线程同时操作引用计数，必须采用独占的方式来进行，如果引用计数操作频繁发生，每次都要使用加锁等并发控制机制，那么开销会比较大

## 2.描述标记整理算法的工作流程
![Image text](https://raw.githubusercontent.com/shirly139/fed-e-task-01-02/master/img/1.jpg)
如上图所示工作流程为：标记-》整理-》清理<br>
优点：避免了内存碎片问题，也避免了复制算法中的空间浪费<br>
缺点：效率会比标记清除和复制算法低一些<br>

## 3.描述V8中新生代存储区垃圾回收流程
新生代存储区垃圾回收采用复制算法，如下图所示
![Image text](https://raw.githubusercontent.com/shirly139/fed-e-task-01-02/master/img/2.jpg)
流程为：将内存分为两个区间 -》所有的对象动态分配只能在其中一个空间（活动空间）-》当活动空间耗尽时，开启GC算法，将活动空间内存活的对象全部复制到空闲空间 <br>-》此时之前的空闲空间变成活动空间 -》进行第二次循环计算
优点：弥补了标记清除，内存布局混乱的缺点<br>
缺点：浪费一半内存；如果对象存活率很高，那么复制这一工作所花费的时间，将会变得不可忽视；<br>

## 4.描述增量标记算法在何时使用，及工作原理
引用计数、标记清除、标记整理、复制算法，都是需要暂停程序，执行GC,这就导致了在GC执行期间，程序不执行，因此出现了增量标记算法，它并不会等GC执行完，才将控制权交回给程序，而是一步一步执行，跑一点再跑一点，逐步完成，在程序运行中穿插进行，极大的降低了GC的暂停时间<br>
三色标记法：白色-未搜索过的对象  灰色-正在搜索的对象  黑色-搜索完的对象<br>
GC开始-》所有对象白色-》根集合的对象放入栈，标记为灰色-》将对象从栈中取出，递归搜索所有子对象，并标记为灰色-》子对象搜索完毕，将对象标记为黑色-》标记阶段结束后，所有活动对象都是黑色-》垃圾对象为白色











